name: Notify Discord on Push

on:
  push:
    branches:
      - '*'   # ho·∫∑c ghi t√™n branch c·ª• th·ªÉ nh∆∞ 'main'

jobs:
  notify_discord:
    runs-on: ubuntu-latest
    steps:
      - name: G·ª≠i th√¥ng b√°o l√™n Discord
        run: |
          TIMESTAMP=$(date +"%d/%m/%Y %H:%M:%S")
          # Chu·∫©n b·ªã payload JSON v√† g·ª≠i b·∫±ng curl
          curl -H "Content-Type: application/json" \
            -X POST \
            -d @- "${{ secrets.DISCORD_WEBHOOK }}" <<'EOF'
          {
            "content": "üìå Commit m·ªõi!\nüìÅ Repo: ${{ github.repository }}\nüåø Nh√°nh: ${{ github.ref_name }}\nüë§ T√°c gi·∫£: ${{ github.event.head_commit.author.name }}\nüìù N·ªôi dung: ${{ github.event.head_commit.message }}\n\nüïí Th·ªùi gian: ${TIMESTAMP}\nüîó Link: ${{ github.event.head_commit.url }}"
          }
EOF
